<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="globalRegion">
  <sql id="Base_Column_List">
    <!-- WARNING - @mbggenerated This element is automatically generated by MyBatis Generator, do not modify. -->
    id, parent_id as parentId, region_name as regionName, region_type as regionType
  </sql>

  <select id="selectGlobalRegionNameByKey" parameterType="java.lang.Integer" resultType="com.spring.web.bean.GlobalRegionNameBean">
    <!-- WARNING - @mbggenerated This element is automatically generated by MyBatis Generator, do not modify. -->
    select T3.id as provinceId,T3.region_name as provinceName,
    T2.id as cityId,T2.region_name as cityName,
    T1.id as countyId,T1.region_name as countyName
    from global_region_tbl T1
    left join global_region_tbl T2 on T1.parent_id = T2.id
    left join global_region_tbl T3 on T2.parent_id = T3.id
    where T1.id = #{id,jdbcType=INTEGER}
  </select>
  
  <!-- 下级区域 -->
  <select id="childGlobal" resultType="com.spring.web.ibatis.DynamicParameter" parameterType="com.spring.web.model.GlobalRegion">
    select
    id,parent_id parentId,region_name regionName, region_type regionType, city_code cityCode
    from
    global_region_tbl
    where
    parent_id = #{parentId}
  </select>
  
</mapper>